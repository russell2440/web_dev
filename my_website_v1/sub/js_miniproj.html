<!DOCTYPE html>
<html id="ht" lang="en">

<head>
    <title>HTML JS Mini Project 1 and 2</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <style type="text/css">
        main {
            width: 50%;
            margin: 0 auto;
        }

        #editable_element {
            width: 400px;
            height: 200px;
            margin: 0 auto;
            margin-top:
                10px;
            margin-bottom:
                10px;
            padding: 10px;
            background-color: #dfe4df;
        }

        canvas {
            display: block;
            margin: 0 auto;
            padding: 10px;
            border: 1px dashed black;
        }

        #buttons {
            margin: 0 auto;
            margin-bottom: 20px;
            text-align: center;
        }

        #dance_color {
            font-size: 24px;
            text-align: center;
        }
    </style>

</head>

<body>
    <main>
        <h2>HTML Content Editable with JS</h2>
        <button onclick="start_edit()">Start Editing</button>
        <button onclick="stop_edit()">Finish Editing</button>

        <p id="editable_element"></p>
        <br>
        <br>
    </main>



    <main>
        <h2>HTML Drawing on Canvas with JS</h2>
        <canvas id="white_board" width="400" height="400"></canvas>
        <br>
        <br>
    </main>



    <main>
        <h2>HTML Disco Dance with JS</h2>
        <div id="dance_buttons">
            <button id="dance_start">Start Dancing!</button>
            <button id="dance_stop">Stop Dancing!</button>
        </div>
        <br>

        <canvas id="dance_floor" width="400" height="400"></canvas>

        <p id="dance_color"></p>
        <br>
        <br>

    </main>



    <script type="text/javascript">

        //==============================================
        //==============================================
        // Make the element editable.
        function start_edit() {
            var elem = document.getElementById("editable_element");

            elem.contentEditable = true;
            elem.focus();
        }

        // Return the element to normal.
        function stop_edit() {
            var elem = document.getElementById("editable_element");

            elem.contentEditable = false;

            // Show the markup in a message box.
            alert("This is what you wrote: \n" + elem.innerHTML);
        }



        //==============================================
        //==============================================

        // Perform the canvas draw.
        document.getElementById("white_board").onclick = function () {
            console.log("white_board clicked");

            var context
                = document.getElementById("white_board").getContext("2d");

            // set the line width and color for all the lines.
            context.lineWidth = 30;
            context.strokeStyle = "rgb(205, 40, 40)";

            // draw the first line, with the standard butt ending.
            context.moveTo(20, 50);
            context.lineTo(400, 50);
            context.lineCap = "butt";
            context.stroke();

            // draw the second line, change line color and line width.
            context.lineWidth = 25;
            context.strokeStyle = "#95ca91";

            context.beginPath();
            context.moveTo(25, 120);
            context.lineTo(400, 120);
            context.lineCap = "butt";
            context.stroke();
        }



        //==============================================
        //==============================================

        function get_random_color() {
            var letters = '0123456789ABCDEF'.split('');
            var color = '#';

            for (var i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)]
            }

            return color;
        }

        function dance_pass() {
            var canvas = document.getElementById("dance_floor");
            var context = canvas.getContext("2d");

            var vert_pos = Math.floor((Math.random() * 399) + 1);
            var the_color = get_random_color();

            // set the line width and color for the line.
            context.lineWidth = 10;
            context.strokeStyle = the_color;

            // draw the line, with the standard butt ending.
            context.moveTo(10, vert_pos);
            context.lineTo(400, vert_pos);
            context.lineCap = "butt";
            context.stroke();

            document.getElementById("dance_color").innerHTML = the_color;
        }


        var animation_running = false;
        var animation_handle;

        // Start Dancing!
        document.getElementById("dance_start").onclick = function () {
            if (false == animation_running) {
                animation_handle = setInterval(dance_pass, 100);
                animation_running = true;
            }
            else {
                alert("Animation is already running!");
            }
        }

        // Stop Dancing!
        document.getElementById("dance_stop").onclick = function () {
            clearInterval(animation_handle);
            animation_running = false;
        }

    </script>
</body>

</html>
